<%- include('../partials/head') %>

<div id="skeletonLoader" class="fixed inset-0 z-[100] bg-[#0a0f1a] flex items-center justify-center transition-opacity duration-500">
  <div class="w-full max-w-md px-6">
    <div class="flex items-center justify-center gap-2 mb-8">
      <div class="w-10 h-10 rounded-xl bg-white/10 animate-pulse"></div>
      <div class="h-5 w-36 rounded bg-white/10 animate-pulse"></div>
    </div>
    <div class="h-6 w-40 mx-auto rounded bg-white/10 animate-pulse mb-2"></div>
    <div class="h-3 w-56 mx-auto rounded bg-white/10 animate-pulse mb-6"></div>
    <div class="glass rounded-2xl p-6 space-y-4">
      <div><div class="h-3 w-16 rounded bg-white/10 animate-pulse mb-2"></div><div class="h-12 rounded-xl bg-white/10 animate-pulse"></div></div>
      <div><div class="h-3 w-12 rounded bg-white/10 animate-pulse mb-2"></div><div class="h-12 rounded-xl bg-white/10 animate-pulse"></div></div>
      <div><div class="h-3 w-16 rounded bg-white/10 animate-pulse mb-2"></div><div class="h-12 rounded-xl bg-white/10 animate-pulse"></div></div>
      <div class="h-12 rounded-xl bg-white/10 animate-pulse"></div>
    </div>
  </div>
</div>
<script>window.addEventListener('load',()=>{const s=document.getElementById('skeletonLoader');s.style.opacity='0';setTimeout(()=>s.style.display='none',500)});</script>

<div class="min-h-screen flex items-center justify-center px-4 relative">
  <div class="absolute inset-0 bg-gradient-to-br from-primary/20 via-transparent to-secondary/10"></div>
  <div class="absolute top-10 left-20 w-64 h-64 bg-accent/10 rounded-full blur-3xl"></div>
  <div class="absolute bottom-20 right-10 w-48 h-48 bg-secondary/10 rounded-full blur-3xl"></div>

  <div class="relative w-full max-w-md">
    <div class="text-center mb-8">
      <a href="/" class="inline-flex items-center gap-2 mb-6">
        <div class="w-10 h-10 bg-gradient-to-br from-secondary to-accent rounded-xl flex items-center justify-center font-bold text-primary">B</div>
        <span class="font-bold text-xl">BILYABITS<span class="text-secondary">-RAPI</span></span>
      </a>
      <h1 class="text-2xl font-bold mb-1">Create Account</h1>
      <p class="text-gray-400 text-sm">Get your API key and start building</p>
    </div>

    <% if (typeof error !== 'undefined' && error) { %>
      <div class="mb-4 p-3 bg-red-500/20 border border-red-500/30 rounded-xl text-red-400 text-sm text-center"><%= error %></div>
    <% } %>

    <form method="POST" action="/register" class="glass rounded-2xl p-6 space-y-4">
      <div>
        <label class="block text-sm text-gray-400 mb-1">Username</label>
        <input type="text" name="username" required minlength="3" maxlength="30" pattern="[a-zA-Z0-9_]+"
          class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-secondary transition"
          placeholder="Choose a username">
      </div>
      <div>
        <label class="block text-sm text-gray-400 mb-1">Email</label>
        <input type="email" name="email" required
          class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-secondary transition"
          placeholder="you@example.com">
      </div>
      <div>
        <label class="block text-sm text-gray-400 mb-1">Password</label>
        <input type="password" name="password" required minlength="6"
          class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-secondary transition"
          placeholder="Min 6 characters">
      </div>
      <button type="submit" class="w-full py-3 bg-secondary text-primary font-bold rounded-xl hover:bg-secondary/80 transition transform hover:scale-[1.02]">
        Create Account
      </button>
    </form>

    <p class="text-center text-gray-400 text-sm mt-6">
      Already have an account? <a href="/login" class="text-secondary hover:underline">Sign in</a>
    </p>
  </div>
</div>

</body>
</html>
